(function(t){function e(e){for(var a,u,c=e[0],o=e[1],r=e[2],f=0,d=[];f<c.length;f++)u=c[f],Object.prototype.hasOwnProperty.call(i,u)&&i[u]&&d.push(i[u][0]),i[u]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,r||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,c=1;c<n.length;c++){var o=n[c];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=u(u.s=n[0]))}return t}var a={},i={app:0},s=[];function u(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,u),n.l=!0,n.exports}u.m=t,u.c=a,u.d=function(t,e,n){u.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},u.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},u.t=function(t,e){if(1&e&&(t=u(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(u.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)u.d(n,a,function(e){return t[e]}.bind(null,a));return n},u.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return u.d(e,"a",e),e},u.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},u.p="/vue-simon-says/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],o=c.push.bind(c);c.push=e,c=c.slice();for(var r=0;r<c.length;r++)e(c[r]);var l=o;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0909":function(t,e,n){},"1d96":function(t,e,n){t.exports=n.p+"media/green.f264d5a1.mp3"},"50fd":function(t,e,n){"use strict";var a=n("0909"),i=n.n(a);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("game-component")],1)},s=[],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game"},[n("h1",{staticClass:"game__title"},[t._v("Simon Says")]),n("div",{staticClass:"game__inner"},[n("div",{staticClass:"game__main"},[n("game-panel")],1),n("div",{staticClass:"game__side"},[n("game-info"),n("game-settings")],1)])])},c=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-panel"},[n("div",{staticClass:"game-panel__board"},[n("button",{ref:"blue",staticClass:"game-panel__button",staticStyle:{"background-color":"#1e90ff"},on:{click:function(e){return t.clickHandler("blue")}}}),n("button",{ref:"red",staticClass:"game-panel__button",staticStyle:{"background-color":"#ff5643"},on:{click:function(e){return t.clickHandler("red")}}}),n("button",{ref:"yellow",staticClass:"game-panel__button",staticStyle:{"background-color":"#feef33"},on:{click:function(e){return t.clickHandler("yellow")}}}),n("button",{ref:"green",staticClass:"game-panel__button",staticStyle:{"background-color":"#bede15"},on:{click:function(e){return t.clickHandler("green")}}})]),"finish"===t.getStatus?n("span",{staticClass:"game-panel__message"},[t._v("Вы проиграли после "+t._s(t.getMaxRound)+" раунда")]):t._e()])},r=[],l=(n("b64b"),n("5530")),f=n("dacc"),d=n.n(f),m=n("fdb1"),g=n.n(m),h=n("c2c2"),p=n.n(h),_=n("1d96"),v=n.n(_),b=n("fa70"),y=n.n(b);function G(t,e){return Math.floor(Math.random()*(e-t+1))+t}var S=n("2f62"),x={name:"GamePanel",data:function(){return{sounds:{blue:d.a,red:g.a,yellow:p.a,green:v.a},failSound:y.a,gameQueue:[],playerQueue:[],isEqual:!1,isEnable:!1,index:-1}},methods:{clickHandler:function(t){"start"===this.getStatus&&this.isEnable&&(this.index++,this.playSound(this.sounds[t]),this.highlightButton(t),this.playerQueue.push(t),this.checkDifference())},startGame:function(){this.clearGame(),this.fillGameQueue(),this.playGameQueue()},finishGame:function(){var t=this;this.clearGame(),this.$store.dispatch("changeGameStatus","finish"),this.$store.dispatch("changeGameRound",1),setTimeout((function(){t.playSound(t.failSound)}),1e3)},clearGame:function(){this.gameQueue.length=0,this.playerQueue.length=0,this.index=-1},startNextRound:function(){var t=this;this.$store.dispatch("changeGameRound",this.getRound+1),setTimeout((function(){t.startGame()}),1e3)},checkDifference:function(){this.isEqual=this.gameQueue[this.index]===this.playerQueue[this.index],this.isEqual&&this.gameQueue.length===this.playerQueue.length?this.startNextRound():this.isEqual||this.finishGame()},playSound:function(t){if(t){var e=new Audio(t);e.play()}},fillGameQueue:function(){for(var t=0;t<this.getRound;t++)this.gameQueue.push(Object.keys(this.sounds)[G(0,3)])},playGameQueue:function(){var t=this;this.isEnable=!1;var e=0,n=setInterval((function(){t.playSound(t.sounds[t.gameQueue[e]]),t.highlightButton(t.gameQueue[e]),e++,e>=t.getRound&&(clearInterval(n),t.isEnable=!0)}),this.getDifficulty)},highlightButton:function(t){var e=this;this.$refs[t].classList.add("game-panel__button--active"),setTimeout((function(){e.$refs[t].classList.remove("game-panel__button--active")}),this.getDifficulty-100)}},computed:Object(l["a"])({},Object(S["b"])(["getRound","getDifficulty","getStatus","getMaxRound"])),watch:{getStatus:function(t){"start"===t&&this.startGame()}}},E=x,C=(n("95b0"),n("2877")),O=Object(C["a"])(E,o,r,!1,null,null,null),k=O.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-info"},[n("span",{staticClass:"game-info__title"},[t._v("Раунд: "+t._s(t.getRound))]),n("button",{staticClass:"game-info__button",on:{click:t.clickHandler}},[t._v("Старт")])])},j=[],A={name:"GameInfo",methods:{clickHandler:function(){this.$store.dispatch("changeGameStatus","start")}},computed:Object(l["a"])({},Object(S["b"])(["getRound"]))},M=A,R=(n("fd51"),Object(C["a"])(M,w,j,!1,null,null,null)),Q=R.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"game-settings"},[n("span",{staticClass:"game-settings__title"},[t._v("Настройки")]),n("span",{staticClass:"game-settings__field-caption"},[t._v("Сложность:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.game.difficulty,expression:"game.difficulty"}],staticClass:"game-settings__field",on:{change:[function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.game,"difficulty",e.target.multiple?n:n[0])},t.changeHandler]}},[n("option",{attrs:{value:"easy"}},[t._v("Легкий")]),n("option",{attrs:{value:"medium"}},[t._v("Средний")]),n("option",{attrs:{value:"hard"}},[t._v("Сложный")])])])},D=[],$={name:"GameSettings",data:function(){return{game:{difficulty:"easy"}}},methods:{changeHandler:function(){this.$store.dispatch("changeGameDifficulty",this.game.difficulty)}}},H=$,N=(n("50fd"),Object(C["a"])(H,T,D,!1,null,null,null)),P=N.exports,I={name:"GameComponent",components:{GamePanel:k,GameInfo:Q,GameSettings:P}},U=I,q=(n("cd55"),Object(C["a"])(U,u,c,!1,null,null,null)),F=q.exports,L={name:"App",components:{GameComponent:F}},B=L,J=(n("5c0b"),Object(C["a"])(B,i,s,!1,null,null,null)),X=J.exports;a["a"].use(S["a"]);var Y=new S["a"].Store({state:{game:{round:1,difficulty:"easy",status:"wait",max:null}},mutations:{SET_GAME_DIFFICULTY:function(t,e){t.game.difficulty=e},SET_GAME_STATUS:function(t,e){t.game.status=e},CHANGE_GAME_ROUND:function(t,e){t.game.round=e},CHANGE_GAME_MAX_ROUND:function(t,e){t.game.max=e}},actions:{changeGameDifficulty:function(t,e){var n=t.commit;n("SET_GAME_DIFFICULTY",e)},changeGameStatus:function(t,e){var n=t.commit;"finish"===e&&n("CHANGE_GAME_MAX_ROUND",this.state.game.round),n("SET_GAME_STATUS",e)},changeGameRound:function(t,e){var n=t.commit;n("CHANGE_GAME_ROUND",e)}},getters:{getRound:function(t){return t.game.round},getDifficulty:function(t){switch(t.game.difficulty){case"easy":return 1400;case"medium":return 1e3;case"hard":return 400;default:break}},getStatus:function(t){return t.game.status},getMaxRound:function(t){return t.game.max+"-го"}}});a["a"].config.productionTip=!1,a["a"].config.devtools=!0,new a["a"]({store:Y,render:function(t){return t(X)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"5df8":function(t,e,n){},9515:function(t,e,n){},"95b0":function(t,e,n){"use strict";var a=n("9515"),i=n.n(a);i.a},"9c0c":function(t,e,n){},c2c2:function(t,e,n){t.exports=n.p+"media/yellow.fb023443.mp3"},cd55:function(t,e,n){"use strict";var a=n("de0b"),i=n.n(a);i.a},dacc:function(t,e,n){t.exports=n.p+"media/blue.9aa9a0f8.mp3"},de0b:function(t,e,n){},fa70:function(t,e,n){t.exports=n.p+"media/fail.ecb0911f.mp3"},fd51:function(t,e,n){"use strict";var a=n("5df8"),i=n.n(a);i.a},fdb1:function(t,e,n){t.exports=n.p+"media/red.cfdd9ca1.mp3"}});
//# sourceMappingURL=app.77ec8c37.js.map